---
import i18next, { changeLanguage } from "i18next";
import Article from "@/components/Article.astro";
import { getCollection } from "astro:content";
import { filenameToDateString } from "@/util/markdown";

changeLanguage("ja");

const latestPost = await getCollection("kiji", ({ data }) => data.language === i18next.language).then((posts) => posts.sort((a, b) => new Date(filenameToDateString(b.slug)) >
    new Date(filenameToDateString(a.slug))
    ? 1
    : -1)[0]);
---

{
  latestPost && (
    <Article
      {...latestPost}
      title={`One Kiji`}
      description="One Kiji summarizes the single most important piece of news published every day."
    />
  )
}
